<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hannamsm.shop.domain.payment.dao.PaymentDao">
<select id="find" parameterType="com.hannamsm.shop.domain.payment.vo.PaymentSearch" resultType="com.hannamsm.shop.domain.payment.vo.PaymentDto">
select paymentId        as paymentId
     , card_name        as cardName
     , right(card_no,4) as cardLastNo
 from payment
where account_no = #{accountNo}
</select>

<select id="findByDefault" parameterType="com.hannamsm.shop.domain.payment.vo.PaymentSearch" resultType="com.hannamsm.shop.domain.payment.vo.PaymentDto">
select top 1
       paymentId        as paymentId
     , card_name        as cardName
     , right(card_no,4) as cardLastNo
 from payment
where account_no = #{accountNo}
  and isDefault = 1
</select>
</mapper>