<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hannamsm.shop.domain.item.dao.ItemDao">
<select id="findAllCount" parameterType="com.hannamsm.shop.domain.item.vo.ItemSearch" resultType="int">
select count(item_id) as totalCount
  from item
</select>

<select id="findAll" parameterType="com.hannamsm.shop.domain.item.vo.ItemSearch" resultType="com.hannamsm.shop.domain.item.vo.Item">
select item_id            as itemId
     , upc                as upc
     , gal_code           as galCode
     , prod_own_code      as prodOwnCode
     , supp_code          as suppCode
     , prod_id            as prodId
     , item_kr_nm         as itemKrNm
     , item_en_nm         as itemEnNm
     , item_size          as itemSize
     , item_type          as itemType
     , item_type2         as itemType2
     , item_in_price      as itemInPrice
     , sale_price         as salePrice
     , regular_price      as regularPrice
     , item_balance       as itemBalance
     , tax_cd             as taxCd
     , sale_unit          as saleUnit
     , deposit_cd         as depositCd
     , category_level1_cd as categoryLevel1Cd
     , category_level2_cd as categoryLevel2Cd
     , is_use             as isUse
     , reg_date           as regDate
     , reg_person         as regPerson
     , last_mod_date      as lastModDate
     , last_mod_person    as lastModPerson
  from item
 order by item_id
offset #{startRownum} rows
 fetch next #{listSize} row only
</select>

<select id="findById" parameterType="com.hannamsm.shop.domain.item.vo.ItemSearch" resultType="com.hannamsm.shop.domain.item.vo.Item">
select item_id            as itemId
     , upc                as upc
     , gal_code           as galCode
     , prod_own_code      as prodOwnCode
     , supp_code          as suppCode
     , prod_id            as prodId
     , item_kr_nm         as itemKrNm
     , item_en_nm         as itemEnNm
     , item_size          as itemSize
     , item_type          as itemType
     , item_type2         as itemType2
     , item_in_price      as itemInPrice
     , sale_price         as salePrice
     , regular_price      as regularPrice
     , item_balance       as itemBalance
     , tax_cd             as taxCd
     , sale_unit          as saleUnit
     , deposit_cd         as depositCd
     , category_level1_cd as categoryLevel1Cd
     , category_level2_cd as categoryLevel2Cd
     , is_use             as isUse
     , reg_date           as regDate
     , reg_person         as regPerson
     , last_mod_date      as lastModDate
     , last_mod_person    as lastModPerson
  from item
 where item_id = #{item_id}
</select>

<select id="findByName" parameterType="com.hannamsm.shop.domain.item.vo.ItemSearch" resultType="com.hannamsm.shop.domain.item.vo.Item">
select item_id            as itemId
     , upc                as upc
     , gal_code           as galCode
     , prod_own_code      as prodOwnCode
     , supp_code          as suppCode
     , prod_id            as prodId
     , item_kr_nm         as itemKrNm
     , item_en_nm         as itemEnNm
     , item_size          as itemSize
     , item_type          as itemType
     , item_type2         as itemType2
     , item_in_price      as itemInPrice
     , sale_price         as salePrice
     , regular_price      as regularPrice
     , item_balance       as itemBalance
     , tax_cd             as taxCd
     , sale_unit          as saleUnit
     , deposit_cd         as depositCd
     , category_level1_cd as categoryLevel1Cd
     , category_level2_cd as categoryLevel2Cd
     , is_use             as isUse
     , reg_date           as regDate
     , reg_person         as regPerson
     , last_mod_date      as lastModDate
     , last_mod_person    as lastModPerson
  from item
 where 1=1
   and (item_kr_nm like '%'+ #{itemName} + '%' or item_en_nm like '%'+ #{itemName} +'%')
</select>

</mapper>